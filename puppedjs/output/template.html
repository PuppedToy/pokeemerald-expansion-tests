<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PuppedJS</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0f1724; /* deep navy */
      --card:#0b1220;
      --muted:#98a0b3;
      --accent:#ff7a59;
      --glass: rgba(255,255,255,0.03);
      --glass-2: rgba(255,255,255,0.02);
      --radius:12px;
      color-scheme: dark;
    }
    *{box-sizing:border-box}
    html,body{height:100%; width:100%;}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      background:linear-gradient(180deg,#071022 0%, #071a2b 100%);
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      min-height:100vh;
    }

    /* Sidebar */
    .sidebar{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:var(--radius);
      padding:18px;
      min-height:80vh;
      box-shadow:0 8px 30px rgba(2,6,23,0.6);
      border:1px solid rgba(255,255,255,0.03);
    }
    .logo{display:flex;align-items:center;gap:12px}
    .logo .badge{
      width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#ffb07f);display:flex;align-items:center;justify-content:center;font-weight:800;color:#081017
    }
    h1{font-size:16px;margin:0}
    .nav{margin-top:18px}
    .nav a{display:flex;align-items:center;gap:10px;padding:10px;border-radius:10px;color:var(--muted);text-decoration:none;margin-bottom:6px}
    .nav a:hover{background:var(--glass);color:#fff}
    .nav a.active{background:linear-gradient(90deg, rgba(255,122,89,0.12), rgba(255,122,89,0.06));color:#fff}

    /* Header / Search */
    header.top{
      height: 60px;
      width: 100%;
      display: flex;
      justify-content: space-between;
    }
    .search{display:flex;gap:8px;align-items:center}
    .search input{background:var(--glass-2);border:1px solid rgba(255,255,255,0.03);padding:10px 12px;border-radius:10px;color:#e9f2ff;outline:none;min-width:360px}
    .actions{display:flex;gap:10px;align-items:center}
    .chip{background:var(--glass);padding:8px 10px;border-radius:999px;font-weight:600}

    /* Main content */
    .app{
      width: 100%;
    }
    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
      gap:16px;
    }
    .right {
      min-width: 240px;
    }
    .main {
      background:transparent;
      display: flex;
      display: flex;
      width: 100%;
      margin: 0 40px;
    }
    .content {
      width: 100%;
      margin-right: 40px;
    }
    .main section {
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease;
      height: 0;
      overflow: hidden;
      width: 0;
    }
    .main section.active {
      opacity: 1;
      visibility: visible;
      height: auto;
      width: 100%;
    }
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;padding:12px;border:1px solid rgba(255,255,255,0.03);
      box-shadow:0 6px 20px rgba(2,6,23,0.5);
      display:flex;flex-direction:column;gap:8px;min-height:140px
    }
    .thumb{height:200px;border-radius:10px;background:#09121b;display:block;overflow:hidden}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .meta{display:flex;justify-content:space-between;align-items:center}
    .meta .title{font-weight:700; font-size: 26px; margin-bottom: 12px; text-align: center;}
    .meta .sub{font-size:12px;color:var(--muted)}
    .meta .type{display:inline-block;padding:4px 8px;border-radius:8px;font-size:12px;color:#081017;font-weight:600;margin-right:6px;margin-bottom:6px}
    .specialCard{background-color: #450B00;}
    .partnerCard{background-color: #004d00;}
    .tags{display:flex;gap:8px;flex-wrap:wrap}
    .tag{background:rgba(255,255,255,0.03);padding:6px 8px;border-radius:8px;font-size:12px}

    /* Right column */
    .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
    .panel h3{margin:0 0 10px 0}
    .list-item{display:flex;gap:10px;align-items:center;padding:8px;border-radius:8px}
    .small{font-size:13px;color:var(--muted)}

    /* footer */
    footer{grid-column:1/4;margin-top:18px;padding:12px;text-align:center;color:var(--muted)}

    /* Responsive */
    @media (max-width:1000px){
      .app{grid-template-columns:1fr;}
      .sidebar{order:2}
      .app > .right{order:3}
      header.top{grid-column:1/2;margin-top:0}
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="top">
      <div class="logo">
        <img height="60" width="60" src="https://lh4.googleusercontent.com/proxy/1ZU_ZpT8noxzxfsKEqWSQWAbxk-3puSoLlV360G1sxdHpbjNSmmxxNSY_dHGm2vX7NwmmPhK4jvnrpc1_PjZGWtYeglgvc5GVgCXXQFvTxZ0Ba_Yxdo8oqURAqARybK07xKxvw">
        <div>
          <h1>PuppedJS</h1>
          <div class="small">Your custom journey dex</div>
        </div>
      </div>
      <div class="search">
        <input type="search" placeholder="Search" />
        <button class="chip">Search</button>
      </div>
      <div class="actions">
        <div class="chip">Sort: Popular</div>
        <div class="chip">Map</div>
      </div>
    </header>

    <main class="main">

      <div class="content">
        <section id="pokemon" class="active">
          <h2>Pokemon</h2>
          <div class="grid" id="pokemon-cards"></div>
        </section>
  
        <section id="moves">
          <h2>Moves</h2>
          <div class="grid" id="moves-cards"></div>
        </section>
  
        <section id="trainers">
          <h2>Trainers</h2>
          <div class="grid" id="trainers-cards"></div>
        </section>
  
        <section id="wildpokes">
          <h2>Wild Pokemon</h2>
          <div class="grid" id="wildpokes-cards"></div>
        </section>
  
        <section id="abilities">
          <h2>Abilities</h2>
          <div class="grid" id="abilities-cards"></div>
        </section>
      </div>

      <aside class="right">
        <nav class="nav" id="nav">
          <a data-target="pokemon" class="active">Pokedex</a>
          <a data-target="moves">Moves</a>
          <a data-target="wildpokes">Locations</a>
          <a data-target="trainers">Trainers</a>
          <a data-target="abilities">Abilities</a>
        </nav>
      </aside>

    </main>
    
    <footer>
      Made with ‚ù§Ô∏è ‚Äî use this to aid your custom journey
    </footer>
  </div>

  
  <script>
    // --- Tab-style navigation ---
    const navLinks = document.querySelectorAll('.nav a');
    const sections = document.querySelectorAll('main section');

    navLinks.forEach(link => {
      link.addEventListener('click', () => {
        const targetId = link.dataset.target;

        // update active nav
        navLinks.forEach(l => l.classList.remove('active'));
        link.classList.add('active');

        // show/hide sections
        sections.forEach(sec => {
          sec.classList.remove('active');
          if (sec.id === targetId) sec.classList.add('active');
        });
      });
    });
  </script>
  <!-- common constants -->
  <script>
    const typeColors = {
        "NORMAL":   "#A8A77A",
        "FIRE":     "#EE8130",
        "WATER":    "#6390F0",
        "ELECTRIC": "#F7D02C",
        "GRASS":    "#7AC74C",
        "ICE":      "#96D9D6",
        "FIGHTING": "#C22E28",
        "POISON":   "#A33EA1",
        "GROUND":   "#E2BF65",
        "FLYING":   "#A98FF3",
        "PSYCHIC":  "#F95587",
        "BUG":      "#A6B91A",
        "ROCK":     "#B6A136",
        "GHOST":    "#735797",
        "DRAGON":   "#6F35FC",
        "DARK":     "#705746",
        "STEEL":    "#B7B7CE",
        "FAIRY":    "#D685AD"
    };
    const tierColorBgs = {
        "GOD":   "#000000",
        "LEGEND":     "#8F0000",
        "PREMIUM":   "#FF8C00",
        "STRONG":     "#FFEE00",
        "AVERAGE":      "#52E3FF",
        "WEAK":     "#D1FFFC",
        "BAD":     "#D4D4D4",
    };
    const tierColorFonts = {
        "GOD":   "#FFFFFF",
        "LEGEND":     "#FFFFFF",
        "PREMIUM":   "#000000",
        "STRONG":      "#000000",
        "AVERAGE":     "#000000",
        "WEAK":     "#000000",
        "BAD":     "#000000",
    };
    const natures = {
      "Hardy": "Hardy (-)",
      "Lonely": "Lonely (+Atk / -Def)",
      "Brave": "Brave (+Atk / -Spe)",
      "Adamant": "Adamant (+Atk / -Spa)",
      "Naughty": "Naughty (+Atk / -Spd)",
      "Bold": "Bold (+Def / -Atk)",
      "Docile": "Docile (-)",
      "Relaxed": "Relaxed (+Def / -Spe)",
      "Impish": "Impish (+Def / -Spa)",
      "Lax": "Lax (+Def / -Spd)",
      "Timid": "Timid (+Spe / -Atk)",
      "Hasty": "Hasty (+Spe / -Def)",
      "Serious": "Serious (-)",
      "Jolly": "Jolly (+Spe / -Spa)",
      "Naive": "Naive (+Spe / -Spd)",
      "Modest": "Modest (+Spa / -Atk)",
      "Mild": "Mild (+Spa / -Def)",
      "Quiet": "Quiet (+Spa / -Spe)",
      "Bashful": "Bashful (-)",
      "Rash": "Rash (+Spa / -Spd)",
      "Calm": "Calm (+Spd / -Atk)",
      "Gentle": "Gentle (+Spd / -Def)",
      "Sassy": "Sassy (+Spd / -Spe)",
      "Careful": "Careful (+Spd / -Spa)",
      "Quirky": "Quirky (-)"
    };

    function getLogIcon(logEntry) {
      if (!logEntry) return '';
      if (logEntry.type === 'BUFF') {
        return ' ‚≠êÔ∏è';
      } else if (logEntry.type === 'NERF') {
        return ' üîª';
      } else {
        return ' üîß';
      }
    }

    function getPokeImg(pokeId) {
      return `https://forwardfeed.github.io/ER-nextdex/static/sprites/${pokeId.replace('SPECIES_', '')}.png`
        .replace('ALOLA', 'ALOLAN')
        .replace('GALAR', 'GALARIAN')
        .replace('HISUI', 'HISUIAN')
        .replace('PALDEA', 'PALDEAN')
        .replace(/TAUROS_PALDEAN_(\w+)/, 'TAUROS_PALDEAN_$1_BREED')
        .replace('DUDUNSPARCE_TWO_SEGMENT', 'DUDUNSPARCE_THREE_SEGMENT')
        .replace('CASTFORM_NORMAL', 'CASTFORM')
        .replace('_WEST', '')
        .replace('_EAST', '_EAST_SEA')
        .replace('GIRATINA_ALTERED', 'GIRATINA')
        .replace('SHAYMIN_LAND', 'SHAYMIN')
        .replace('_RED_STRIPED', '')
        .replace('_WHITE_STRIPED', '_WHITESTRIPED')
        .replace('BASCULEGION_M', 'BASCULEGION')
        .replace('_STANDARD', '')
        .replace('_ZEN', '_ZEN_MODE')
        .replace('_GALARIAN_ZEN_MODE', '_ZEN_MODE_GALARIAN')
        .replace('_SPRING', '')
        .replace('_INCARNATE', '')
        .replace('_ORDINARY', '')
        .replace('_ARIA', '')
        .replace('MEOWSTIC_M', 'MEOWSTIC')
        .replace('MEOWSTIC_F', 'MEOWSTIC_FEMALE')
        .replace('_SHIELD', '')
        .replace('_AVERAGE', '')
        .replace('_NEUTRAL', '')
        .replace('/ZYGARDE_50.', '/ZYGARDE.')
        .replace('_AURA_BREAK', '')
        .replace('_CONFINED', '')
        .replace('_BAILE', '')
        .replace('_MIDDAY', '')
        .replace('_SOLO', '')
        .replace('_DISGUISED', '')
        .replace('_ORIGINAL', '_ORIGINAL_COLOR')
        .replace('_AMPED', '')
        .replace('_PHONY', '')
        .replace('EISCUE_ICE', 'EISCUE')
        .replace('EISCUE_NOICE', 'EISCUE_NOICE_FACE')
        .replace('INDEEDEE_M', 'INDEEDEE')
        .replace('INDEEDEE_F', 'INDEEDEE_FEMALE')
        .replace('_FULL_BELLY', '')
        .replace('_HERO', '')
        .replace('ZACIAN_CROWNED', 'ZACIAN_CROWNED_SWORD')
        .replace('ZAMAZENTA_CROWNED', 'ZAMAZENTA_CROWNED_SHIELD')
        .replace('_SINGLE_STRIKE', '')
        .replace('_RAPID_STRIKE', '_RAPID_STRIKE_STYLE')
        .replace('CALYREX_ICE', 'CALYREX_ICE_RIDER')
        .replace('CALYREX_SHADOW', 'CALYREX_SHADOW_RIDER')
        .replace('OINKOLOGNE_M', 'OINKOLOGNE')
        .replace('OINKOLOGNE_F', 'OINKOLOGNE')
        .replace('MAUSHOLD_THREE', 'MAUSHOLD_FOUR')
        .replace(/(SQUAWKABILLY_\w+)/, '$1_PLUMAGE')
        .replace('_ZERO', '')
        .replace('GIMMIGHOUL_CHEST', 'GIMMIGHOUL')
        .replace(/POLTCHAGEIST_\w+/, 'POLTCHAGEIST')
        .replace(/SINISTCHA_\w+/, 'SINISTCHA')
        .replace('TERAPAGOS_NORMAL', 'TERAPAGOS')
        .replace('TERAPAGOS_TERASTAL', 'TERAPAGOS')
        .replace('DEOXYS_NORMAL', 'DEOXYS')
        .replace('CHERRIM_OVERCAST', 'CHERRIM');
    }
  </script>
  <script src="pokes.js"></script>
  <script src="trainers.js"></script>
  <script src="wildpokes.js"></script>
  <!-- script to handle pokedex -->
  <script>
    const pokemonGrid = document.getElementById('pokemon-cards');
    pokes.forEach(poke => {
      const card = document.createElement('div');
      const pokeImg = getPokeImg(poke.id);
      const hpLogEntry = (poke.log || []).find(entry => entry.target === 'baseHP');
      const atkLogEntry = (poke.log || []).find(entry => entry.target === 'baseAttack');
      const defLogEntry = (poke.log || []).find(entry => entry.target === 'baseDefense');
      const spaLogEntry = (poke.log || []).find(entry => entry.target === 'baseSpAttack');
      const spdLogEntry = (poke.log || []).find(entry => entry.target === 'baseSpDefense');
      const speLogEntry = (poke.log || []).find(entry => entry.target === 'baseSpeed');
      const hpIcon = getLogIcon(hpLogEntry);
      const atkIcon = getLogIcon(atkLogEntry);
      const defIcon = getLogIcon(defLogEntry);
      const spaIcon = getLogIcon(spaLogEntry);
      const spdIcon = getLogIcon(spdLogEntry);
      const speIcon = getLogIcon(speLogEntry);
      const BSTChangeValue = hpLogEntry?.value || 0
        + atkLogEntry?.value || 0
        + defLogEntry?.value || 0
        + spaLogEntry?.value || 0
        + spdLogEntry?.value || 0
        + speLogEntry?.value || 0;
      const bstIcon = BSTChangeValue > 0 ? ' ‚≠êÔ∏è' : BSTChangeValue < 0 ? ' üîª' : '';
      const typeEntry = (poke.log || []).find(entry => entry.target === 'type');
      const typeIcon = getLogIcon(typeEntry);
      const abilityEntry = (poke.log || []).find(entry => entry.target === 'ability');
      const abilityIcon = getLogIcon(abilityEntry);
      let fullLogIcon = '';
      const allLogIsBuffs = (poke.log || []).every(entry => entry.type === 'BUFF');
      const allLogIsNerfs = (poke.log || []).every(entry => entry.type === 'NERF');
      if (poke.log && poke.log.length > 0) {
        if (allLogIsBuffs) {
          fullLogIcon = ' ‚≠êÔ∏è';
        } else if (allLogIsNerfs) {
          fullLogIcon = ' üîª';
        } else {
          fullLogIcon = ' üîß';
        }
      }
      card.className = 'card';
      card.innerHTML = `
        <div class="meta">
            <div>
                <div class="title">${poke.name}${fullLogIcon}</div>
                <div class=thumb><img src="${pokeImg}" alt="${poke.name}" /></div>
                <div style="margin-top: 10px; text-align: center; width: 100%;">${poke.parsedTypes.map(type => `<span class="type" style="background-color:${typeColors[type]}">${type}</span>`).join(' ')}${typeIcon}</div>
                <div style="margin-top: 10px; text-align: center; width: 100%;">${poke.parsedAbilities.map(ability => `<span class="tag">${ability}</span>`).join(' ')}${abilityIcon}</div>
                <div>
                    <div style="text-align: center; font-weight: 700; margin-top: 6px; color: #FFDDC9">BST: ${poke.baseBST}${bstIcon}</div>
                    <div style="text-align: center"><div style="text-align: center; font-weight: 700; margin-top: 6px; background-color: ${tierColorBgs[poke.rating.tier]}; color: ${tierColorFonts[poke.rating.tier]}; display: inline-block; padding: 4px 12px; border-radius: 999px;">${poke.rating.tier} (${poke.rating.role})</div></div>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(2, auto); gap: 6px; margin-top: 10px;">
                        <div style="font-weight: 700; color: #BDF8FF">HP</div>
                        <div style="font-weight: 700; color: #BDF8FF">ATK</div>
                        <div style="font-weight: 700; color: #BDF8FF">DEF</div>
                        <div>${poke.baseHP}${hpIcon}</div>
                        <div>${poke.baseAttack}${atkIcon}</div>
                        <div>${poke.baseDefense}${defIcon}</div>
                        <div style="font-weight: 700; color: #BDF8FF">SPA</div>
                        <div style="font-weight: 700; color: #BDF8FF">SPD</div>
                        <div style="font-weight: 700; color: #BDF8FF">SPE</div>
                        <div>${poke.baseSpAttack}${spaIcon}</div>
                        <div>${poke.baseSpDefense}${spdIcon}</div>
                        <div>${poke.baseSpeed}${speIcon}</div>
                    </div>
                </div>
            </div>
        </div>
      `;
      pokemonGrid.appendChild(card);
    });
  </script>
  <!-- script to handle trainers -->
  <script>
    const trainersGrid = document.getElementById('trainers-cards');

    Object.entries(trainersData).forEach(([trainerId, trainer]) => {
      const card = document.createElement('div');
      card.className = 'card';
      if (trainer.isBoss) {
        card.classList.add('specialCard');
      }
      if (trainer.isPartner) {
        card.classList.add('partnerCard');
      }

      const trainerName = trainerId
        .replace('TRAINER_', '')
        .replace(/_/g, ' ')
        .toLowerCase()
        .replace(/\b\w/g, c => c.toUpperCase()); // Proper casing

      // Build each Pok√©mon slot
      const teamHTML = trainer.team.map(member => {
        const pokeId = member.pokemon || '';
        const pokeName = pokeId.replace('SPECIES_', '').replace(/_/g, ' ');
        const imgSrc = getPokeImg(pokeId);
        const item = member.item ? `<div class="small" style="color:#FFD580">üéí ${member.item}</div>` : '';
        const ability = member.ability ? `<div class="small" style="color:#D1F2FF">‚ú® ${member.ability}</div>` : '';
        const nature = member.nature ? `<div class="small" style="color:#A5D9B8">üå≥ ${natures[member.nature]}</div>` : '';
        const moves =
          member.moves && member.moves.length > 0
            ? `<div style="font-size:12px;color:#aaa;margin-top:4px">
                ${member.moves
                  .map(m => m.replace('MOVE_', '').replace(/_/g, ' ').toLowerCase())
                  .map(m => m.charAt(0).toUpperCase() + m.slice(1))
                  .join(', ')}
              </div>`
            : '';

        return `
          <div style="text-align:center; background:rgba(255,255,255,0.02); padding:6px; border-radius:10px;">
            <img src="${imgSrc}" style="width:64px;height:64px;object-fit:contain" alt="${pokeName}">
            <div style="font-weight:700;margin-top:4px">${pokeName}</div>
            ${item}
            ${ability}
            ${nature}
            ${moves}
          </div>
        `;
      }).join('');

      // Final card markup
      card.innerHTML = `
        <div class="meta">
          <div class="title">${trainerName}</div>
          <div class="small" style="text-align:center; color:#FFB28A;">Lv. ${trainer.level}</div>
        </div>
        <div class="grid" style="grid-template-columns:repeat(auto-fill, minmax(100px,1fr)); gap:8px;">
          ${teamHTML}
        </div>
      `;

      trainersGrid.appendChild(card);
    });
  </script>
  <!-- script to handle routes -->
  <script>
    function getRouteTypeName(type) {
      switch (type) {
        case 'land': return 'Grass';
        case 'old': return 'Fishing (Old Rod)';
        case 'good': return 'Fishing (Good Rod)';
        case 'surf': return 'Surf';
        case 'super': return 'Fishing (Super Rod)';
        case 'special':
        case 'special1':
        case 'special2':
        case 'special3':
          return 'Special';
        default: return type;
      }
    }

    const routesGrid = document.getElementById('wildpokes-cards');

    wildPokes.forEach(route => {
      const card = document.createElement('div');
      card.className = 'card';

      // Clean route name
      const routeName = route.id
        .replace('MAP_', '')
        .replace(/_/g, ' ')
        .toLowerCase()
        .replace(/\b\w/g, c => c.toUpperCase());

      // Each encounter type (land, old, good, surf, super)
      const encounterTypes = ['land', 'old', 'good', 'surf', 'super', 'special', 'special1', 'special2', 'special3'];

      const encountersHTML = encounterTypes
        .filter(type => route[type])
        .map(type => {
          const pokeId = route[type];
          const pokeName = pokeId.replace('SPECIES_', '').replace(/_/g, ' ');
          const img = getPokeImg(pokeId);
          return `
            <div style="text-align:center; background:rgba(255,255,255,0.02); padding:6px; border-radius:10px;">
              <div style="font-size:12px; color:#FFB28A; margin-bottom:4px;">${getRouteTypeName(type)}</div>
              <img src="${img}" style="width:64px;height:64px;object-fit:contain" alt="${pokeName}">
              <div style="font-weight:700;margin-top:4px">${pokeName}</div>
            </div>
          `;
        })
        .join('');

      card.innerHTML = `
        <div class="meta">
          <div class="title">${routeName}</div>
        </div>
        <div class="grid" style="grid-template-columns:repeat(auto-fill, minmax(100px,1fr)); gap:8px;">
          ${encountersHTML}
        </div>
      `;

      routesGrid.appendChild(card);
    });
  </script>
</body>
</html>
